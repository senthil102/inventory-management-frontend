import{c as E}from"./chunk-R4EUZ4BU.js";import{b as V,c as N,d as q,e as F,f as P,g as W,m as D,n as A}from"./chunk-CPZLEGUN.js";import{Aa as b,Ea as m,Jb as I,Mb as L,Pa as d,Qa as n,Ra as t,Sa as S,Ub as T,Va as x,Wa as M,X as u,Y as f,Ya as v,ab as c,db as l,fb as h,hb as w,ib as y,jb as C,qa as r,ua as _}from"./chunk-QSD6NO5L.js";function j(e,s){e&1&&(n(0,"small"),l(1,"Username is required"),t())}function B(e,s){if(e&1&&(n(0,"div",23),m(1,j,2,0,"small",24),t()),e&2){v();let i=c(14);r(),d("ngIf",i.errors==null?null:i.errors.required)}}function U(e,s){e&1&&(n(0,"small"),l(1,"Password is required"),t())}function G(e,s){if(e&1&&(n(0,"div",23),m(1,U,2,0,"small",24),t()),e&2){v();let i=c(20);r(),d("ngIf",i.errors==null?null:i.errors.required)}}function O(e,s){e&1&&S(0,"span",25)}function k(e,s){if(e&1&&(n(0,"div",26),l(1),t()),e&2){let i=v();r(),h(" ",i.error," ")}}var R=class e{constructor(s,i){this.authService=s;this.router=i}credentials={username:"",password:""};loading=!1;error="";onLogin(){this.loading=!0,this.error="",this.authService.login(this.credentials.username,this.credentials.password).subscribe({next:s=>{this.router.navigate(["/dashboard"])},error:s=>{this.error="Invalid username or password",this.loading=!1},complete:()=>{this.loading=!1}})}static \u0275fac=function(i){return new(i||e)(_(T),_(E))};static \u0275cmp=b({type:e,selectors:[["app-login"]],decls:30,vars:8,consts:[["loginForm","ngForm"],["username","ngModel"],["password","ngModel"],[1,"container-fluid"],[1,"row","justify-content-center","align-items-center","min-vh-100"],[1,"col-md-4"],[1,"card","shadow"],[1,"card-header","bg-primary","text-white","text-center"],[1,"mb-0"],[1,"card-body","p-4"],[3,"ngSubmit"],[1,"mb-3"],["for","username",1,"form-label"],["type","text","id","username","name","username","required","",1,"form-control",3,"ngModelChange","ngModel"],["class","text-danger",4,"ngIf"],["for","password",1,"form-label"],["type","password","id","password","name","password","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"d-grid"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm me-2",4,"ngIf"],["class","alert alert-danger mt-3",4,"ngIf"],[1,"text-center","mt-3"],[1,"text-muted"],[1,"text-danger"],[4,"ngIf"],[1,"spinner-border","spinner-border-sm","me-2"],[1,"alert","alert-danger","mt-3"]],template:function(i,o){if(i&1){let g=x();n(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"h4",8),l(6,"Inventory Management System"),t()(),n(7,"div",9)(8,"form",10,0),M("ngSubmit",function(){return u(g),f(o.onLogin())}),n(10,"div",11)(11,"label",12),l(12,"Username"),t(),n(13,"input",13,1),C("ngModelChange",function(a){return u(g),y(o.credentials.username,a)||(o.credentials.username=a),f(a)}),t(),m(15,B,2,1,"div",14),t(),n(16,"div",11)(17,"label",15),l(18,"Password"),t(),n(19,"input",16,2),C("ngModelChange",function(a){return u(g),y(o.credentials.password,a)||(o.credentials.password=a),f(a)}),t(),m(21,G,2,1,"div",14),t(),n(22,"div",17)(23,"button",18),m(24,O,1,0,"span",19),l(25),t()(),m(26,k,2,1,"div",20),t(),n(27,"div",21)(28,"small",22),l(29," Demo Credentials: admin / password "),t()()()()()()()}if(i&2){let g=c(9),p=c(14),a=c(20);r(13),w("ngModel",o.credentials.username),r(2),d("ngIf",p.invalid&&(p.dirty||p.touched)),r(4),w("ngModel",o.credentials.password),r(2),d("ngIf",a.invalid&&(a.dirty||a.touched)),r(2),d("disabled",g.invalid||o.loading),r(),d("ngIf",o.loading),r(),h(" ",o.loading?"Logging in...":"Login"," "),r(),d("ngIf",o.error)}},dependencies:[L,I,A,W,V,N,q,D,P,F],styles:[".min-vh-100[_ngcontent-%COMP%]{min-height:100vh}"]})};export{R as LoginComponent};
