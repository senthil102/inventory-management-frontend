import{a as J}from"./chunk-6YKOUYN7.js";import{a as F,b as O,c as q,d as D,e as U,f as z,g as K,h as j,l as G,m as R,n as H}from"./chunk-CPZLEGUN.js";import{Aa as V,Ea as h,Hb as T,Ib as I,Jb as A,Lb as N,Mb as B,Pa as f,Qa as t,Ra as i,Sa as b,Va as w,Wa as P,X as s,Y as m,Ya as S,a as E,ab as x,bb as L,cb as W,db as r,eb as _,fb as y,hb as u,ib as p,jb as g,lb as C,mb as M,qa as l,ua as k}from"./chunk-QSD6NO5L.js";function X(v,o){if(v&1){let d=w();t(0,"tr")(1,"td"),r(2),i(),t(3,"td"),r(4),i(),t(5,"td"),r(6),i(),t(7,"td"),r(8),i(),t(9,"td"),r(10),C(11,"currency"),i(),t(12,"td"),r(13),C(14,"currency"),i(),t(15,"td")(16,"span",54),r(17),i()(),t(18,"td")(19,"span",54),r(20),i()(),t(21,"td")(22,"div",55)(23,"button",56),P("click",function(){let a=s(d).$implicit,c=S();return m(c.editProduct(a))}),b(24,"i",57),i(),t(25,"button",58),P("click",function(){let a=s(d).$implicit,c=S();return m(c.deleteProduct(a))}),b(26,"i",59),i()()()()}if(v&2){let d=o.$implicit,e=S();l(2),_(d.id),l(2),_(d.name),l(2),_(d.sku),l(2),_(d.category),l(2),_(M(11,10,d.price)),l(3),_(M(14,12,d.cost)),l(3),f("ngClass",e.getStockLevelClass(d)),l(),y(" ",e.getStockLevelText(d)," "),l(2),f("ngClass",d.isActive?"bg-success":"bg-danger"),l(),y(" ",d.isActive?"Active":"Inactive"," ")}}function Y(v,o){v&1&&b(0,"span",60)}function Z(v,o){v&1&&b(0,"div",61)}var Q=class v{constructor(o){this.productsService=o}products=[];currentProduct=this.getEmptyProduct();showModal=!1;isEditing=!1;saving=!1;ngOnInit(){this.loadProducts()}loadProducts(){this.productsService.getProducts().subscribe({next:o=>{this.products=o},error:o=>{console.error("Error loading products:",o)}})}showAddForm(){this.isEditing=!1,this.currentProduct=this.getEmptyProduct(),this.showModal=!0}editProduct(o){this.isEditing=!0,this.currentProduct=E({},o),this.showModal=!0}deleteProduct(o){confirm(`Are you sure you want to delete "${o.name}"?`)&&this.productsService.deleteProduct(o.id).subscribe({next:()=>{this.products=this.products.filter(d=>d.id!==o.id)},error:d=>{console.error("Error deleting product:",d)}})}saveProduct(){this.saving=!0,this.isEditing?this.productsService.updateProduct(this.currentProduct.id,this.currentProduct).subscribe({next:o=>{let d=this.products.findIndex(e=>e.id===o.id);d!==-1&&(this.products[d]=o),this.closeModal()},error:o=>{console.error("Error updating product:",o),this.saving=!1},complete:()=>{this.saving=!1}}):this.productsService.createProduct(this.currentProduct).subscribe({next:o=>{this.products.push(o),this.closeModal()},error:o=>{console.error("Error creating product:",o),this.saving=!1},complete:()=>{this.saving=!1}})}closeModal(){this.showModal=!1,this.saving=!1}getEmptyProduct(){return{name:"",sku:"",description:"",price:0,cost:0,category:"",brand:"",unit:"piece",minimumStockLevel:0,maximumStockLevel:100,isActive:!0}}getStockLevelClass(o){let d=Math.floor(Math.random()*100);return d<=o.minimumStockLevel?"bg-danger":d>=o.maximumStockLevel?"bg-warning":"bg-success"}getStockLevelText(o){return`${Math.floor(Math.random()*100)} units`}static \u0275fac=function(d){return new(d||v)(k(J))};static \u0275cmp=V({type:v,selectors:[["app-products"]],decls:113,vars:21,consts:[["productForm","ngForm"],[1,"container-fluid"],[1,"row","mb-4"],[1,"col"],[1,"col","text-end"],[1,"btn","btn-primary",3,"click"],[1,"bi","bi-plus-circle","me-2"],[1,"card"],[1,"card-header"],[1,"mb-0"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-striped","table-hover"],[4,"ngFor","ngForOf"],["id","productModal","tabindex","-1",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[3,"ngSubmit"],[1,"row"],[1,"col-md-6"],[1,"mb-3"],["for","name",1,"form-label"],["type","text","id","name","name","name","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","sku",1,"form-label"],["type","text","id","sku","name","sku","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","category",1,"form-label"],["type","text","id","category","name","category",1,"form-control",3,"ngModelChange","ngModel"],["for","brand",1,"form-label"],["type","text","id","brand","name","brand",1,"form-control",3,"ngModelChange","ngModel"],["for","description",1,"form-label"],["id","description","name","description","rows","3",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-4"],["for","price",1,"form-label"],["type","number","id","price","name","price","required","","step","0.01","min","0",1,"form-control",3,"ngModelChange","ngModel"],["for","cost",1,"form-label"],["type","number","id","cost","name","cost","required","","step","0.01","min","0",1,"form-control",3,"ngModelChange","ngModel"],["for","unit",1,"form-label"],["type","text","id","unit","name","unit",1,"form-control",3,"ngModelChange","ngModel"],["for","minimumStockLevel",1,"form-label"],["type","number","id","minimumStockLevel","name","minimumStockLevel","required","","min","0",1,"form-control",3,"ngModelChange","ngModel"],["for","maximumStockLevel",1,"form-label"],["type","number","id","maximumStockLevel","name","maximumStockLevel","required","","min","0",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-check"],["type","checkbox","id","isActive","name","isActive",1,"form-check-input",3,"ngModelChange","ngModel"],["for","isActive",1,"form-check-label"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click","disabled"],["class","spinner-border spinner-border-sm me-2",4,"ngIf"],["class","modal-backdrop fade show",4,"ngIf"],[1,"badge",3,"ngClass"],["role","group",1,"btn-group"],[1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"bi","bi-pencil"],[1,"btn","btn-sm","btn-outline-danger",3,"click"],[1,"bi","bi-trash"],[1,"spinner-border","spinner-border-sm","me-2"],[1,"modal-backdrop","fade","show"]],template:function(d,e){if(d&1){let a=w();t(0,"div",1)(1,"div",2)(2,"div",3)(3,"h2"),r(4,"Products Management"),i()(),t(5,"div",4)(6,"button",5),P("click",function(){return s(a),m(e.showAddForm())}),b(7,"i",6),r(8,"Add Product "),i()()(),t(9,"div",7)(10,"div",8)(11,"h5",9),r(12,"Products List"),i()(),t(13,"div",10)(14,"div",11)(15,"table",12)(16,"thead")(17,"tr")(18,"th"),r(19,"ID"),i(),t(20,"th"),r(21,"Name"),i(),t(22,"th"),r(23,"SKU"),i(),t(24,"th"),r(25,"Category"),i(),t(26,"th"),r(27,"Price"),i(),t(28,"th"),r(29,"Cost"),i(),t(30,"th"),r(31,"Stock Level"),i(),t(32,"th"),r(33,"Status"),i(),t(34,"th"),r(35,"Actions"),i()()(),t(36,"tbody"),h(37,X,27,14,"tr",13),i()()()()(),t(38,"div",14)(39,"div",15)(40,"div",16)(41,"div",17)(42,"h5",18),r(43),i(),t(44,"button",19),P("click",function(){return s(a),m(e.closeModal())}),i()(),t(45,"div",20)(46,"form",21,0),P("ngSubmit",function(){return s(a),m(e.saveProduct())}),t(48,"div",22)(49,"div",23)(50,"div",24)(51,"label",25),r(52,"Product Name *"),i(),t(53,"input",26),g("ngModelChange",function(n){return s(a),p(e.currentProduct.name,n)||(e.currentProduct.name=n),m(n)}),i()()(),t(54,"div",23)(55,"div",24)(56,"label",27),r(57,"SKU *"),i(),t(58,"input",28),g("ngModelChange",function(n){return s(a),p(e.currentProduct.sku,n)||(e.currentProduct.sku=n),m(n)}),i()()()(),t(59,"div",22)(60,"div",23)(61,"div",24)(62,"label",29),r(63,"Category"),i(),t(64,"input",30),g("ngModelChange",function(n){return s(a),p(e.currentProduct.category,n)||(e.currentProduct.category=n),m(n)}),i()()(),t(65,"div",23)(66,"div",24)(67,"label",31),r(68,"Brand"),i(),t(69,"input",32),g("ngModelChange",function(n){return s(a),p(e.currentProduct.brand,n)||(e.currentProduct.brand=n),m(n)}),i()()()(),t(70,"div",24)(71,"label",33),r(72,"Description"),i(),t(73,"textarea",34),g("ngModelChange",function(n){return s(a),p(e.currentProduct.description,n)||(e.currentProduct.description=n),m(n)}),i()(),t(74,"div",22)(75,"div",35)(76,"div",24)(77,"label",36),r(78,"Price *"),i(),t(79,"input",37),g("ngModelChange",function(n){return s(a),p(e.currentProduct.price,n)||(e.currentProduct.price=n),m(n)}),i()()(),t(80,"div",35)(81,"div",24)(82,"label",38),r(83,"Cost *"),i(),t(84,"input",39),g("ngModelChange",function(n){return s(a),p(e.currentProduct.cost,n)||(e.currentProduct.cost=n),m(n)}),i()()(),t(85,"div",35)(86,"div",24)(87,"label",40),r(88,"Unit"),i(),t(89,"input",41),g("ngModelChange",function(n){return s(a),p(e.currentProduct.unit,n)||(e.currentProduct.unit=n),m(n)}),i()()()(),t(90,"div",22)(91,"div",23)(92,"div",24)(93,"label",42),r(94,"Minimum Stock Level *"),i(),t(95,"input",43),g("ngModelChange",function(n){return s(a),p(e.currentProduct.minimumStockLevel,n)||(e.currentProduct.minimumStockLevel=n),m(n)}),i()()(),t(96,"div",23)(97,"div",24)(98,"label",44),r(99,"Maximum Stock Level *"),i(),t(100,"input",45),g("ngModelChange",function(n){return s(a),p(e.currentProduct.maximumStockLevel,n)||(e.currentProduct.maximumStockLevel=n),m(n)}),i()()()(),t(101,"div",24)(102,"div",46)(103,"input",47),g("ngModelChange",function(n){return s(a),p(e.currentProduct.isActive,n)||(e.currentProduct.isActive=n),m(n)}),i(),t(104,"label",48),r(105," Active Product "),i()()()()(),t(106,"div",49)(107,"button",50),P("click",function(){return s(a),m(e.closeModal())}),r(108,"Cancel"),i(),t(109,"button",51),P("click",function(){return s(a),m(e.saveProduct())}),h(110,Y,1,0,"span",52),r(111),i()()()()(),h(112,Z,1,0,"div",53),i()}if(d&2){let a=x(47);l(37),f("ngForOf",e.products),l(),L("display",e.showModal?"block":"none"),W("show",e.showModal),l(5),_(e.isEditing?"Edit Product":"Add New Product"),l(10),u("ngModel",e.currentProduct.name),l(5),u("ngModel",e.currentProduct.sku),l(6),u("ngModel",e.currentProduct.category),l(5),u("ngModel",e.currentProduct.brand),l(4),u("ngModel",e.currentProduct.description),l(6),u("ngModel",e.currentProduct.price),l(5),u("ngModel",e.currentProduct.cost),l(5),u("ngModel",e.currentProduct.unit),l(6),u("ngModel",e.currentProduct.minimumStockLevel),l(5),u("ngModel",e.currentProduct.maximumStockLevel),l(3),u("ngModel",e.currentProduct.isActive),l(6),f("disabled",!a.valid||e.saving),l(),f("ngIf",e.saving),l(),y(" ",e.saving?"Saving...":"Save Product"," "),l(),f("ngIf",e.showModal)}},dependencies:[B,T,I,A,H,K,O,j,F,q,D,R,G,z,U,N],styles:[".modal-backdrop[_ngcontent-%COMP%]{z-index:1040}.modal[_ngcontent-%COMP%]{z-index:1050}"]})};export{Q as ProductsComponent};
