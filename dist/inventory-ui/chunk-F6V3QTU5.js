import{a as D,b as U,c as j,d as H,e as Y,f as G,g as J,m as R,n as Z}from"./chunk-CPZLEGUN.js";import{Aa as k,Ea as v,Hb as L,Ib as F,Jb as O,Mb as z,N as A,Pa as b,Qa as t,R as y,Ra as i,Rb as B,Sa as w,Ub as q,Va as C,Wa as W,X as u,Y as m,Ya as S,a as E,ab as x,bb as I,cb as T,db as o,eb as f,fb as M,gb as N,hb as h,ib as p,jb as g,m as V,qa as s,ua as P}from"./chunk-QSD6NO5L.js";var _=class c{constructor(n,a){this.http=n;this.authService=a}apiUrl="https://inventorymanagement-47as.onrender.com/api/warehouses";getWarehouses(){return V([{id:1,name:"Main Warehouse",address:"123 Industrial Blvd",city:"San Francisco",state:"CA",zipCode:"94105",country:"USA",contactPerson:"Sarah Johnson",phone:"+1-555-0101",email:"sarah@mainwarehouse.com",isActive:!0},{id:2,name:"Secondary Warehouse",address:"456 Storage Lane",city:"Los Angeles",state:"CA",zipCode:"90210",country:"USA",contactPerson:"Mike Wilson",phone:"+1-555-0202",email:"mike@secondarywarehouse.com",isActive:!0},{id:3,name:"East Coast Distribution",address:"789 Distribution Dr",city:"New York",state:"NY",zipCode:"10001",country:"USA",contactPerson:"Lisa Brown",phone:"+1-555-0303",email:"lisa@eastcoast.com",isActive:!1}])}getWarehouse(n){return this.http.get(`${this.apiUrl}/${n}`)}createWarehouse(n){return this.http.post(this.apiUrl,n)}updateWarehouse(n,a){return this.http.put(`${this.apiUrl}/${n}`,a)}deleteWarehouse(n){return this.http.delete(`${this.apiUrl}/${n}`)}static \u0275fac=function(a){return new(a||c)(y(B),y(q))};static \u0275prov=A({token:c,factory:c.\u0275fac,providedIn:"root"})};function $(c,n){if(c&1){let a=C();t(0,"tr")(1,"td"),o(2),i(),t(3,"td"),o(4),i(),t(5,"td"),o(6),i(),t(7,"td"),o(8),i(),t(9,"td"),o(10),i(),t(11,"td"),o(12),i(),t(13,"td")(14,"span",52),o(15),i()(),t(16,"td")(17,"div",53)(18,"button",54),W("click",function(){let l=u(a).$implicit,d=S();return m(d.editWarehouse(l))}),w(19,"i",55),i(),t(20,"button",56),W("click",function(){let l=u(a).$implicit,d=S();return m(d.deleteWarehouse(l))}),w(21,"i",57),i()()()()}if(c&2){let a=n.$implicit;s(2),f(a.id),s(2),f(a.name),s(2),N("",a.city,", ",a.state),s(2),f(a.contactPerson),s(2),f(a.phone),s(2),f(a.email),s(2),b("ngClass",a.isActive?"bg-success":"bg-danger"),s(),M(" ",a.isActive?"Active":"Inactive"," ")}}function ee(c,n){c&1&&w(0,"span",58)}function te(c,n){c&1&&w(0,"div",59)}var K=class c{constructor(n){this.warehousesService=n}warehouses=[];currentWarehouse=this.getEmptyWarehouse();showModal=!1;isEditing=!1;saving=!1;ngOnInit(){this.loadWarehouses()}loadWarehouses(){this.warehousesService.getWarehouses().subscribe({next:n=>{this.warehouses=n},error:n=>{console.error("Error loading warehouses:",n)}})}showAddForm(){this.isEditing=!1,this.currentWarehouse=this.getEmptyWarehouse(),this.showModal=!0}editWarehouse(n){this.isEditing=!0,this.currentWarehouse=E({},n),this.showModal=!0}deleteWarehouse(n){confirm(`Are you sure you want to delete warehouse "${n.name}"?`)&&this.warehousesService.deleteWarehouse(n.id).subscribe({next:()=>{this.warehouses=this.warehouses.filter(a=>a.id!==n.id)},error:a=>{console.error("Error deleting warehouse:",a)}})}saveWarehouse(){this.saving=!0,this.isEditing?this.warehousesService.updateWarehouse(this.currentWarehouse.id,this.currentWarehouse).subscribe({next:n=>{let a=this.warehouses.findIndex(e=>e.id===n.id);a!==-1&&(this.warehouses[a]=n),this.closeModal()},error:n=>{console.error("Error updating warehouse:",n),this.saving=!1},complete:()=>{this.saving=!1}}):this.warehousesService.createWarehouse(this.currentWarehouse).subscribe({next:n=>{this.warehouses.push(n),this.closeModal()},error:n=>{console.error("Error creating warehouse:",n),this.saving=!1},complete:()=>{this.saving=!1}})}closeModal(){this.showModal=!1,this.saving=!1}getEmptyWarehouse(){return{name:"",address:"",city:"",state:"",zipCode:"",country:"",contactPerson:"",phone:"",email:"",isActive:!0}}static \u0275fac=function(a){return new(a||c)(P(_))};static \u0275cmp=k({type:c,selectors:[["app-warehouses"]],decls:104,vars:20,consts:[["warehouseForm","ngForm"],[1,"container-fluid"],[1,"row","mb-4"],[1,"col"],[1,"col","text-end"],[1,"btn","btn-primary",3,"click"],[1,"bi","bi-plus-circle","me-2"],[1,"card"],[1,"card-header"],[1,"mb-0"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-striped","table-hover"],[4,"ngFor","ngForOf"],["id","warehouseModal","tabindex","-1",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[3,"ngSubmit"],[1,"row"],[1,"col-md-6"],[1,"mb-3"],["for","name",1,"form-label"],["type","text","id","name","name","name","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","contactPerson",1,"form-label"],["type","text","id","contactPerson","name","contactPerson","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","phone",1,"form-label"],["type","tel","id","phone","name","phone","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","email",1,"form-label"],["type","email","id","email","name","email","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","address",1,"form-label"],["type","text","id","address","name","address","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-4"],["for","city",1,"form-label"],["type","text","id","city","name","city","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","state",1,"form-label"],["type","text","id","state","name","state","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","zipCode",1,"form-label"],["type","text","id","zipCode","name","zipCode","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","country",1,"form-label"],["type","text","id","country","name","country","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-check"],["type","checkbox","id","isActive","name","isActive",1,"form-check-input",3,"ngModelChange","ngModel"],["for","isActive",1,"form-check-label"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click","disabled"],["class","spinner-border spinner-border-sm me-2",4,"ngIf"],["class","modal-backdrop fade show",4,"ngIf"],[1,"badge",3,"ngClass"],["role","group",1,"btn-group"],[1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"bi","bi-pencil"],[1,"btn","btn-sm","btn-outline-danger",3,"click"],[1,"bi","bi-trash"],[1,"spinner-border","spinner-border-sm","me-2"],[1,"modal-backdrop","fade","show"]],template:function(a,e){if(a&1){let l=C();t(0,"div",1)(1,"div",2)(2,"div",3)(3,"h2"),o(4,"Warehouses Management"),i()(),t(5,"div",4)(6,"button",5),W("click",function(){return u(l),m(e.showAddForm())}),w(7,"i",6),o(8,"Add Warehouse "),i()()(),t(9,"div",7)(10,"div",8)(11,"h5",9),o(12,"Warehouses List"),i()(),t(13,"div",10)(14,"div",11)(15,"table",12)(16,"thead")(17,"tr")(18,"th"),o(19,"ID"),i(),t(20,"th"),o(21,"Name"),i(),t(22,"th"),o(23,"Location"),i(),t(24,"th"),o(25,"Contact Person"),i(),t(26,"th"),o(27,"Phone"),i(),t(28,"th"),o(29,"Email"),i(),t(30,"th"),o(31,"Status"),i(),t(32,"th"),o(33,"Actions"),i()()(),t(34,"tbody"),v(35,$,22,9,"tr",13),i()()()()(),t(36,"div",14)(37,"div",15)(38,"div",16)(39,"div",17)(40,"h5",18),o(41),i(),t(42,"button",19),W("click",function(){return u(l),m(e.closeModal())}),i()(),t(43,"div",20)(44,"form",21,0),W("ngSubmit",function(){return u(l),m(e.saveWarehouse())}),t(46,"div",22)(47,"div",23)(48,"div",24)(49,"label",25),o(50,"Warehouse Name *"),i(),t(51,"input",26),g("ngModelChange",function(r){return u(l),p(e.currentWarehouse.name,r)||(e.currentWarehouse.name=r),m(r)}),i()()(),t(52,"div",23)(53,"div",24)(54,"label",27),o(55,"Contact Person *"),i(),t(56,"input",28),g("ngModelChange",function(r){return u(l),p(e.currentWarehouse.contactPerson,r)||(e.currentWarehouse.contactPerson=r),m(r)}),i()()()(),t(57,"div",22)(58,"div",23)(59,"div",24)(60,"label",29),o(61,"Phone *"),i(),t(62,"input",30),g("ngModelChange",function(r){return u(l),p(e.currentWarehouse.phone,r)||(e.currentWarehouse.phone=r),m(r)}),i()()(),t(63,"div",23)(64,"div",24)(65,"label",31),o(66,"Email *"),i(),t(67,"input",32),g("ngModelChange",function(r){return u(l),p(e.currentWarehouse.email,r)||(e.currentWarehouse.email=r),m(r)}),i()()()(),t(68,"div",24)(69,"label",33),o(70,"Address *"),i(),t(71,"input",34),g("ngModelChange",function(r){return u(l),p(e.currentWarehouse.address,r)||(e.currentWarehouse.address=r),m(r)}),i()(),t(72,"div",22)(73,"div",35)(74,"div",24)(75,"label",36),o(76,"City *"),i(),t(77,"input",37),g("ngModelChange",function(r){return u(l),p(e.currentWarehouse.city,r)||(e.currentWarehouse.city=r),m(r)}),i()()(),t(78,"div",35)(79,"div",24)(80,"label",38),o(81,"State/Province *"),i(),t(82,"input",39),g("ngModelChange",function(r){return u(l),p(e.currentWarehouse.state,r)||(e.currentWarehouse.state=r),m(r)}),i()()(),t(83,"div",35)(84,"div",24)(85,"label",40),o(86,"ZIP/Postal Code *"),i(),t(87,"input",41),g("ngModelChange",function(r){return u(l),p(e.currentWarehouse.zipCode,r)||(e.currentWarehouse.zipCode=r),m(r)}),i()()()(),t(88,"div",24)(89,"label",42),o(90,"Country *"),i(),t(91,"input",43),g("ngModelChange",function(r){return u(l),p(e.currentWarehouse.country,r)||(e.currentWarehouse.country=r),m(r)}),i()(),t(92,"div",24)(93,"div",44)(94,"input",45),g("ngModelChange",function(r){return u(l),p(e.currentWarehouse.isActive,r)||(e.currentWarehouse.isActive=r),m(r)}),i(),t(95,"label",46),o(96," Active Warehouse "),i()()()()(),t(97,"div",47)(98,"button",48),W("click",function(){return u(l),m(e.closeModal())}),o(99,"Cancel"),i(),t(100,"button",49),W("click",function(){return u(l),m(e.saveWarehouse())}),v(101,ee,1,0,"span",50),o(102),i()()()()(),v(103,te,1,0,"div",51),i()}if(a&2){let l=x(45);s(35),b("ngForOf",e.warehouses),s(),I("display",e.showModal?"block":"none"),T("show",e.showModal),s(5),f(e.isEditing?"Edit Warehouse":"Add New Warehouse"),s(10),h("ngModel",e.currentWarehouse.name),s(5),h("ngModel",e.currentWarehouse.contactPerson),s(6),h("ngModel",e.currentWarehouse.phone),s(5),h("ngModel",e.currentWarehouse.email),s(4),h("ngModel",e.currentWarehouse.address),s(6),h("ngModel",e.currentWarehouse.city),s(5),h("ngModel",e.currentWarehouse.state),s(5),h("ngModel",e.currentWarehouse.zipCode),s(4),h("ngModel",e.currentWarehouse.country),s(3),h("ngModel",e.currentWarehouse.isActive),s(6),b("disabled",!l.valid||e.saving),s(),b("ngIf",e.saving),s(),M(" ",e.saving?"Saving...":"Save Warehouse"," "),s(),b("ngIf",e.showModal)}},dependencies:[z,L,F,O,Z,J,U,D,j,H,R,G,Y],styles:[".modal-backdrop[_ngcontent-%COMP%]{z-index:1040}.modal[_ngcontent-%COMP%]{z-index:1050}"]})};export{K as WarehousesComponent};
