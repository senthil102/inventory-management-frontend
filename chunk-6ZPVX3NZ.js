import{a as D,b as U,c as j,d as G,e as H,f as J,g as Y,m as R,n as Z}from"./chunk-CPZLEGUN.js";import{Aa as W,Ea as _,Hb as O,Ib as F,Jb as z,Mb as L,N as P,Pa as b,Qa as t,R as C,Ra as i,Rb as B,Sa as v,Ub as q,Va as w,Wa as h,X as d,Y as u,Ya as M,a as V,ab as x,bb as I,cb as T,db as l,eb as f,fb as E,gb as N,hb as c,ib as S,jb as g,m as A,qa as p,ua as k}from"./chunk-QSD6NO5L.js";var y=class m{constructor(n,o){this.http=n;this.authService=o}apiUrl="https://localhost:7165/api/suppliers";getSuppliers(){return A([{id:1,name:"TechCorp Supplies",contactPerson:"John Smith",email:"john@techcorp.com",phone:"+1-555-0123",address:"123 Tech Street",city:"San Francisco",state:"CA",zipCode:"94105",country:"USA",isActive:!0},{id:2,name:"Office Supplies Co",contactPerson:"Jane Doe",email:"jane@officesupplies.com",phone:"+1-555-0456",address:"456 Office Ave",city:"New York",state:"NY",zipCode:"10001",country:"USA",isActive:!0},{id:3,name:"Global Electronics",contactPerson:"Mike Johnson",email:"mike@globalelec.com",phone:"+1-555-0789",address:"789 Global Blvd",city:"Los Angeles",state:"CA",zipCode:"90210",country:"USA",isActive:!1}])}getSupplier(n){return this.http.get(`${this.apiUrl}/${n}`)}createSupplier(n){return this.http.post(this.apiUrl,n)}updateSupplier(n,o){return this.http.put(`${this.apiUrl}/${n}`,o)}deleteSupplier(n){return this.http.delete(`${this.apiUrl}/${n}`)}static \u0275fac=function(o){return new(o||m)(C(B),C(q))};static \u0275prov=P({token:m,factory:m.\u0275fac,providedIn:"root"})};function $(m,n){if(m&1){let o=w();t(0,"tr")(1,"td"),l(2),i(),t(3,"td"),l(4),i(),t(5,"td"),l(6),i(),t(7,"td"),l(8),i(),t(9,"td"),l(10),i(),t(11,"td"),l(12),i(),t(13,"td")(14,"span",52),l(15),i()(),t(16,"td")(17,"div",53)(18,"button",54),h("click",function(){let a=d(o).$implicit,s=M();return u(s.editSupplier(a))}),v(19,"i",55),i(),t(20,"button",56),h("click",function(){let a=d(o).$implicit,s=M();return u(s.deleteSupplier(a))}),v(21,"i",57),i()()()()}if(m&2){let o=n.$implicit;p(2),f(o.id),p(2),f(o.name),p(2),f(o.contactPerson),p(2),f(o.email),p(2),f(o.phone),p(2),N("",o.city,", ",o.state),p(2),b("ngClass",o.isActive?"bg-success":"bg-danger"),p(),E(" ",o.isActive?"Active":"Inactive"," ")}}function ee(m,n){m&1&&v(0,"span",58)}function te(m,n){m&1&&v(0,"div",59)}var K=class m{constructor(n){this.suppliersService=n}suppliers=[];currentSupplier=this.getEmptySupplier();showModal=!1;isEditing=!1;saving=!1;ngOnInit(){this.loadSuppliers()}loadSuppliers(){this.suppliersService.getSuppliers().subscribe({next:n=>{this.suppliers=n},error:n=>{console.error("Error loading suppliers:",n)}})}showAddForm(){this.isEditing=!1,this.currentSupplier=this.getEmptySupplier(),this.showModal=!0}editSupplier(n){this.isEditing=!0,this.currentSupplier=V({},n),this.showModal=!0}deleteSupplier(n){confirm(`Are you sure you want to delete supplier "${n.name}"?`)&&this.suppliersService.deleteSupplier(n.id).subscribe({next:()=>{this.suppliers=this.suppliers.filter(o=>o.id!==n.id)},error:o=>{console.error("Error deleting supplier:",o)}})}saveSupplier(){this.saving=!0,this.isEditing?this.suppliersService.updateSupplier(this.currentSupplier.id,this.currentSupplier).subscribe({next:n=>{let o=this.suppliers.findIndex(e=>e.id===n.id);o!==-1&&(this.suppliers[o]=n),this.closeModal()},error:n=>{console.error("Error updating supplier:",n),this.saving=!1},complete:()=>{this.saving=!1}}):this.suppliersService.createSupplier(this.currentSupplier).subscribe({next:n=>{this.suppliers.push(n),this.closeModal()},error:n=>{console.error("Error creating supplier:",n),this.saving=!1},complete:()=>{this.saving=!1}})}closeModal(){this.showModal=!1,this.saving=!1}getEmptySupplier(){return{name:"",contactPerson:"",email:"",phone:"",address:"",city:"",state:"",zipCode:"",country:"",isActive:!0}}static \u0275fac=function(o){return new(o||m)(k(y))};static \u0275cmp=W({type:m,selectors:[["app-suppliers"]],decls:104,vars:20,consts:[["supplierForm","ngForm"],[1,"container-fluid"],[1,"row","mb-4"],[1,"col"],[1,"col","text-end"],[1,"btn","btn-primary",3,"click"],[1,"bi","bi-plus-circle","me-2"],[1,"card"],[1,"card-header"],[1,"mb-0"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-striped","table-hover"],[4,"ngFor","ngForOf"],["id","supplierModal","tabindex","-1",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[3,"ngSubmit"],[1,"row"],[1,"col-md-6"],[1,"mb-3"],["for","name",1,"form-label"],["type","text","id","name","name","name","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","contactPerson",1,"form-label"],["type","text","id","contactPerson","name","contactPerson","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","email",1,"form-label"],["type","email","id","email","name","email","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","phone",1,"form-label"],["type","tel","id","phone","name","phone","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","address",1,"form-label"],["type","text","id","address","name","address","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-4"],["for","city",1,"form-label"],["type","text","id","city","name","city","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","state",1,"form-label"],["type","text","id","state","name","state","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","zipCode",1,"form-label"],["type","text","id","zipCode","name","zipCode","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","country",1,"form-label"],["type","text","id","country","name","country","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-check"],["type","checkbox","id","isActive","name","isActive",1,"form-check-input",3,"ngModelChange","ngModel"],["for","isActive",1,"form-check-label"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click","disabled"],["class","spinner-border spinner-border-sm me-2",4,"ngIf"],["class","modal-backdrop fade show",4,"ngIf"],[1,"badge",3,"ngClass"],["role","group",1,"btn-group"],[1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"bi","bi-pencil"],[1,"btn","btn-sm","btn-outline-danger",3,"click"],[1,"bi","bi-trash"],[1,"spinner-border","spinner-border-sm","me-2"],[1,"modal-backdrop","fade","show"]],template:function(o,e){if(o&1){let a=w();t(0,"div",1)(1,"div",2)(2,"div",3)(3,"h2"),l(4,"Suppliers Management"),i()(),t(5,"div",4)(6,"button",5),h("click",function(){return d(a),u(e.showAddForm())}),v(7,"i",6),l(8,"Add Supplier "),i()()(),t(9,"div",7)(10,"div",8)(11,"h5",9),l(12,"Suppliers List"),i()(),t(13,"div",10)(14,"div",11)(15,"table",12)(16,"thead")(17,"tr")(18,"th"),l(19,"ID"),i(),t(20,"th"),l(21,"Name"),i(),t(22,"th"),l(23,"Contact Person"),i(),t(24,"th"),l(25,"Email"),i(),t(26,"th"),l(27,"Phone"),i(),t(28,"th"),l(29,"Location"),i(),t(30,"th"),l(31,"Status"),i(),t(32,"th"),l(33,"Actions"),i()()(),t(34,"tbody"),_(35,$,22,9,"tr",13),i()()()()(),t(36,"div",14)(37,"div",15)(38,"div",16)(39,"div",17)(40,"h5",18),l(41),i(),t(42,"button",19),h("click",function(){return d(a),u(e.closeModal())}),i()(),t(43,"div",20)(44,"form",21,0),h("ngSubmit",function(){return d(a),u(e.saveSupplier())}),t(46,"div",22)(47,"div",23)(48,"div",24)(49,"label",25),l(50,"Supplier Name *"),i(),t(51,"input",26),g("ngModelChange",function(r){return d(a),S(e.currentSupplier.name,r)||(e.currentSupplier.name=r),u(r)}),i()()(),t(52,"div",23)(53,"div",24)(54,"label",27),l(55,"Contact Person *"),i(),t(56,"input",28),g("ngModelChange",function(r){return d(a),S(e.currentSupplier.contactPerson,r)||(e.currentSupplier.contactPerson=r),u(r)}),i()()()(),t(57,"div",22)(58,"div",23)(59,"div",24)(60,"label",29),l(61,"Email *"),i(),t(62,"input",30),g("ngModelChange",function(r){return d(a),S(e.currentSupplier.email,r)||(e.currentSupplier.email=r),u(r)}),i()()(),t(63,"div",23)(64,"div",24)(65,"label",31),l(66,"Phone *"),i(),t(67,"input",32),g("ngModelChange",function(r){return d(a),S(e.currentSupplier.phone,r)||(e.currentSupplier.phone=r),u(r)}),i()()()(),t(68,"div",24)(69,"label",33),l(70,"Address *"),i(),t(71,"input",34),g("ngModelChange",function(r){return d(a),S(e.currentSupplier.address,r)||(e.currentSupplier.address=r),u(r)}),i()(),t(72,"div",22)(73,"div",35)(74,"div",24)(75,"label",36),l(76,"City *"),i(),t(77,"input",37),g("ngModelChange",function(r){return d(a),S(e.currentSupplier.city,r)||(e.currentSupplier.city=r),u(r)}),i()()(),t(78,"div",35)(79,"div",24)(80,"label",38),l(81,"State/Province *"),i(),t(82,"input",39),g("ngModelChange",function(r){return d(a),S(e.currentSupplier.state,r)||(e.currentSupplier.state=r),u(r)}),i()()(),t(83,"div",35)(84,"div",24)(85,"label",40),l(86,"ZIP/Postal Code *"),i(),t(87,"input",41),g("ngModelChange",function(r){return d(a),S(e.currentSupplier.zipCode,r)||(e.currentSupplier.zipCode=r),u(r)}),i()()()(),t(88,"div",24)(89,"label",42),l(90,"Country *"),i(),t(91,"input",43),g("ngModelChange",function(r){return d(a),S(e.currentSupplier.country,r)||(e.currentSupplier.country=r),u(r)}),i()(),t(92,"div",24)(93,"div",44)(94,"input",45),g("ngModelChange",function(r){return d(a),S(e.currentSupplier.isActive,r)||(e.currentSupplier.isActive=r),u(r)}),i(),t(95,"label",46),l(96," Active Supplier "),i()()()()(),t(97,"div",47)(98,"button",48),h("click",function(){return d(a),u(e.closeModal())}),l(99,"Cancel"),i(),t(100,"button",49),h("click",function(){return d(a),u(e.saveSupplier())}),_(101,ee,1,0,"span",50),l(102),i()()()()(),_(103,te,1,0,"div",51),i()}if(o&2){let a=x(45);p(35),b("ngForOf",e.suppliers),p(),I("display",e.showModal?"block":"none"),T("show",e.showModal),p(5),f(e.isEditing?"Edit Supplier":"Add New Supplier"),p(10),c("ngModel",e.currentSupplier.name),p(5),c("ngModel",e.currentSupplier.contactPerson),p(6),c("ngModel",e.currentSupplier.email),p(5),c("ngModel",e.currentSupplier.phone),p(4),c("ngModel",e.currentSupplier.address),p(6),c("ngModel",e.currentSupplier.city),p(5),c("ngModel",e.currentSupplier.state),p(5),c("ngModel",e.currentSupplier.zipCode),p(4),c("ngModel",e.currentSupplier.country),p(3),c("ngModel",e.currentSupplier.isActive),p(6),b("disabled",!a.valid||e.saving),p(),b("ngIf",e.saving),p(),E(" ",e.saving?"Saving...":"Save Supplier"," "),p(),b("ngIf",e.showModal)}},dependencies:[L,O,F,z,Z,Y,U,D,j,G,R,J,H],styles:[".modal-backdrop[_ngcontent-%COMP%]{z-index:1040}.modal[_ngcontent-%COMP%]{z-index:1050}"]})};export{K as SuppliersComponent};
