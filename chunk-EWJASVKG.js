import{a as p}from"./chunk-6YKOUYN7.js";import{a as h}from"./chunk-SFXOZ62E.js";import{a as E}from"./chunk-63UYU4OI.js";import{Aa as v,Mb as u,Ta as e,Ua as r,Xa as a,db as o,eb as s,qa as d,ua as m}from"./chunk-QSD6NO5L.js";var b=class l{constructor(t,n,i){this.productsService=t;this.inventoryService=n;this.purchaseOrdersService=i}totalProducts=0;lowStockItems=0;activeOrders=0;totalValue=0;ngOnInit(){this.loadDashboardData()}loadDashboardData(){this.loadProducts(),this.loadInventory(),this.loadOrders()}loadProducts(){this.productsService.getProducts().subscribe({next:t=>{this.totalProducts=t.length},error:t=>{console.error("Error loading products:",t)}})}loadInventory(){this.inventoryService.getLowStockItems().subscribe({next:t=>{this.lowStockItems=t.length},error:t=>{console.error("Error loading inventory:",t)}})}loadOrders(){this.purchaseOrdersService.getPurchaseOrders().subscribe({next:t=>{this.activeOrders=t.filter(n=>n.status==="Pending"||n.status==="Approved").length,this.totalValue=t.reduce((n,i)=>n+i.totalAmount,0)},error:t=>{console.error("Error loading orders:",t)}})}refreshData(){this.loadDashboardData()}static \u0275fac=function(n){return new(n||l)(m(p),m(h),m(E))};static \u0275cmp=v({type:l,selectors:[["app-dashboard"]],decls:47,vars:4,consts:[[1,"container"],[1,"row"],[1,"col-md-3"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"card-text","display-4"],[1,"row","mt-4"],[1,"col-12"],[1,"card-header"],[1,"btn","btn-primary","me-2",3,"click"],[1,"btn","btn-success","me-2",3,"click"],[1,"btn","btn-info","me-2",3,"click"],[1,"btn","btn-warning",3,"click"]],template:function(n,i){n&1&&(e(0,"div",0)(1,"h1"),o(2,"Dashboard"),r(),e(3,"div",1)(4,"div",2)(5,"div",3)(6,"div",4)(7,"h5",5),o(8,"Total Products"),r(),e(9,"p",6),o(10),r()()()(),e(11,"div",2)(12,"div",3)(13,"div",4)(14,"h5",5),o(15,"Low Stock Items"),r(),e(16,"p",6),o(17),r()()()(),e(18,"div",2)(19,"div",3)(20,"div",4)(21,"h5",5),o(22,"Active Orders"),r(),e(23,"p",6),o(24),r()()()(),e(25,"div",2)(26,"div",3)(27,"div",4)(28,"h5",5),o(29,"Total Value"),r(),e(30,"p",6),o(31),r()()()()(),e(32,"div",7)(33,"div",8)(34,"div",3)(35,"div",9)(36,"h5"),o(37,"Quick Actions"),r()(),e(38,"div",4)(39,"button",10),a("click",function(){return i.refreshData()}),o(40,"Refresh Data"),r(),e(41,"button",11),a("click",function(){return i.loadProducts()}),o(42,"Load Products"),r(),e(43,"button",12),a("click",function(){return i.loadInventory()}),o(44,"Load Inventory"),r(),e(45,"button",13),a("click",function(){return i.loadOrders()}),o(46,"Load Orders"),r()()()()()()),n&2&&(d(10),s(i.totalProducts),d(7),s(i.lowStockItems),d(7),s(i.activeOrders),d(7),s(i.totalValue))},dependencies:[u],styles:[".card[_ngcontent-%COMP%]{margin-bottom:20px}"]})};export{b as DashboardComponent};
